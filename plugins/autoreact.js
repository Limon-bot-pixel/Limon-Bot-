const autoreact = require("./plugins/autoreact");
autoreact.handleMessage(sock, m);//==========================================//
//        Limon Bot â€“ Full AutoReact        //
//==========================================//

// à¦¬à¦¿à¦¶à§à¦¬à§‡à¦° à¦ªà§à¦°à¦¾à§Ÿ à¦¸à¦¬ à¦œà¦¨à¦ªà§à¦°à¦¿à¦¯à¦¼ à¦‡à¦®à§‹à¦œà¦¿ à¦à¦–à¦¾à¦¨à§‡ à¦¯à§‹à¦— à¦•à¦°à¦¾ à¦¹à¦¯à¦¼à§‡à¦›à§‡ ðŸ”¥
const allEmojis = [
    "ðŸ˜€","ðŸ˜","ðŸ˜‚","ðŸ¤£","ðŸ˜ƒ","ðŸ˜„","ðŸ˜…","ðŸ˜†","ðŸ˜‰","ðŸ˜Š",
    "ðŸ˜‹","ðŸ˜Ž","ðŸ˜","ðŸ˜˜","ðŸ¥°","ðŸ˜—","ðŸ˜™","ðŸ˜š","ðŸ™‚","ðŸ¤—",
    "ðŸ¤©","ðŸ¤”","ðŸ¤¨","ðŸ˜","ðŸ˜‘","ðŸ˜¶","ðŸ™„","ðŸ˜","ðŸ˜£","ðŸ˜¥",
    "ðŸ˜®","ðŸ¤","ðŸ˜¯","ðŸ˜ª","ðŸ˜«","ðŸ¥±","ðŸ˜´","ðŸ˜Œ","ðŸ˜›","ðŸ˜œ",
    "ðŸ˜","ðŸ¤¤","ðŸ˜’","ðŸ˜“","ðŸ˜”","ðŸ˜•","ðŸ™ƒ","ðŸ¤‘","ðŸ˜²","â˜¹ï¸",
    "ðŸ™","ðŸ˜–","ðŸ˜ž","ðŸ˜Ÿ","ðŸ˜¤","ðŸ˜¢","ðŸ˜­","ðŸ˜¦","ðŸ˜§","ðŸ˜¨",
    "ðŸ˜©","ðŸ¤¯","ðŸ˜¬","ðŸ˜°","ðŸ˜±","ðŸ¥µ","ðŸ¥¶","ðŸ˜³","ðŸ¤ª","ðŸ˜µ",
    "ðŸ˜¡","ðŸ˜ ","ðŸ¤¬","ðŸ˜·","ðŸ¤’","ðŸ¤•","ðŸ¤¢","ðŸ¤®","ðŸ¤§","ðŸ˜‡",
    "ðŸ¥³","ðŸ¥º","ðŸ’€","ðŸ‘»","ðŸ¤¡","ðŸ‘½","ðŸ¤–","ðŸ’©","ðŸ™","âœ¨",
    "ðŸ’«","ðŸ’¥","ðŸ’¢","ðŸ’¦","ðŸ’¨","ðŸ”¥","ðŸŒˆ","â­","ðŸŒŸ","ðŸ’¯",
    "â­•","âŒ","â¤ï¸","ðŸ§¡","ðŸ’›","ðŸ’š","ðŸ’™","ðŸ’œ","ðŸ–¤",
    "ðŸ¤Ž","ðŸ¤","ðŸ’”","â£ï¸","ðŸ’•","ðŸ’ž","ðŸ’“","ðŸ’—","ðŸ’–","ðŸ’˜",
    "ðŸ’","ðŸ‘","ðŸ‘Ž","ðŸ‘Œ","ðŸ¤","âœŒï¸","ðŸ¤ž","ðŸ¤Ÿ","ðŸ¤˜","ðŸ¤™",
    "ðŸ‘‹","ðŸ¤š","âœ‹","ðŸ–ï¸","ðŸ––","ðŸ‘Š","ðŸ¤œ","ðŸ¤›","ðŸ‘","ðŸ™Œ",
    "ðŸ‘","ðŸ¤²","ðŸ¤","ðŸ’ª","ðŸ‘€","ðŸ‘…","ðŸ‘„","ðŸ’‹"
];

// Keyword based reactions
const keywordReact = {
    "hi": "ðŸ‘‹",
    "hello": "ðŸ‘‹",
    "love": "â¤ï¸",
    "babu": "ðŸ˜˜",
    "baby": "ðŸ˜",
    "bye": "ðŸ‘‹",
    "ok": "ðŸ‘",
    "lol": "ðŸ˜‚",
    "hmm": "ðŸ¤¨",
    "boss": "ðŸ˜Ž",
    "nice": "âœ¨",
    "sad": "ðŸ˜¢"
};

//==========================================//
//         AUTO REACT MAIN FUNCTION         //
//==========================================//

module.exports.handleMessage = async (sock, m) => {
    try {
        if (!m.message) return;

        let text =
            m.message.conversation ||
            m.message.extendedTextMessage?.text ||
            "";

        text = text.toLowerCase();

        // Bot à¦¨à¦¿à¦œà§‡à¦° à¦®à§‡à¦¸à§‡à¦œà§‡ react à¦¦à§‡à¦¬à§‡ à¦¨à¦¾
        if (m.key.fromMe) return;

        // Keyword Reaction (Priority)
        for (let key in keywordReact) {
            if (text.includes(key)) {
                return await sock.sendMessage(m.chat, {
                    react: {
                        text: keywordReact[key],
                        key: m.key
                    }
                });
            }
        }

        // Random emoji from the full list
        const randomEmoji =
            allEmojis[Math.floor(Math.random() * allEmojis.length)];

        await sock.sendMessage(m.chat, {
            react: {
                text: randomEmoji,
                key: m.key
            }
        });

    } catch (e) {
        console.log("AutoReact Error:", e);
    }
};